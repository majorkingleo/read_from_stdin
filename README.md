Read from STDIN or file for windows and linux as well

This solution is merged from several answers from here:
https://stackoverflow.com/questions/19955617/win32-read-from-stdin-with-timeout


for compilation with autotools call
./reconfigure.sh

for cross compilation with mingw on cygwin
./reconfigure-mingw-win32.sh

